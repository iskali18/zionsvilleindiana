<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Featured Community Events | ZionsvilleIndiana.com</title>
  <meta name="description" content="A curated list of featured community events in Zionsville and nearby towns, with a full calendar view below." />
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="page">

<section class="hero">

  <!-- HEADER / NAV -->
  <header class="hero-header">
    <div class="container header-inner">
      <a href="index.html" class="brand-link">ZionsvilleIndiana.com</a>

      <nav class="nav">
        <a href="events.html" aria-current="page">Events</a>
        <a href="downtown.html">Downtown &amp; Beyond</a>
        <a href="parks-trails.html">Parks &amp; Trails</a>
        <a href="about.html">About</a>
      </nav>
    </div>
  </header>

  /*
  <!-- SHORT HERO IMAGE -->
  <figure class="hero-media short">
    <img
      src="events-hero.jpg"
      alt="Seasonal scene in Zionsville, Indiana"
      class="hero-img"
    />
    <div class="hero-credit">© ZionsvilleIndiana.com</div>
  </figure>
  */

  <!-- HERO CAPTION BAR -->
  <div class="hero-underbar">
    <div class="container">
      <div class="hero-caption">
        <div class="hero-caption-left">
          <span class="cap">Page</span>
          <span class="cap-text">Events</span>
        </div>
        <span class="hero-caption-right">Calendar</span>
      </div>
    </div>
  </div>

  <!-- PAGE INTRO -->
  <div class="container page-hero">
    <h1>Featured Community Events</h1>
    <p class="page-intro">
      This page highlights notable community events in Zionsville and nearby towns. The schedule
      is lighter in winter, with more events appearing as spring approaches. Everything featured
      here is curated to stay relevant, easy to scan, and genuinely useful.
      <br><br>
      Looking for a full-year view? Scroll down to the calendar below.
    </p>
  </div>

</section>

<!-- FEATURED EVENTS (JSON) -->
<section class="section" id="events">
  <div class="container event-grid" id="events-grid"></div>
</section>

<!-- FULL CALENDAR -->
<section class="section" id="full-calendar">
  <div class="container section-head">
    <h2>Full calendar</h2>
    <p class="muted">
      Prefer a month-by-month view? Browse the full calendar below.
    </p>
  </div>

  <div class="container">
    <div class="tockify-wrap">
      <!-- PASTE YOUR TOCKIFY EMBED CODE HERE -->
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="container footer-inner">
    <div class="footer-brand">ZionsvilleIndiana.com</div>
    <div class="footer-links">
      <a href="index.html">Home</a>
      <a href="downtown.html">Downtown &amp; Beyond</a>
      <a href="parks-trails.html">Parks &amp; Trails</a>
      <a href="about.html">About</a>
    </div>
  </div>

  <div class="container footer-bottom">
    © <span id="year"></span> ZionsvilleIndiana.com
  </div>
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  async function loadEvents() {
    const grid = document.getElementById("events-grid");
    if (!grid) return;

    try {
      const res = await fetch("events.json", { cache: "no-store" });
      if (!res.ok) throw new Error("Failed to load events.json");
      const events = await res.json();

      grid.innerHTML = events.map(ev => `
        <a href="${ev.url}" class="event-card"
           ${String(ev.url || "").startsWith("http") ? 'target="_blank" rel="noopener"' : ''}>
          <img src="${ev.image}" alt="${ev.alt || ""}" class="event-img" />
          <div class="event-body">
            <div class="event-date">${ev.dateLabel || ""}</div>
            <div class="event-title">${ev.title || ""}</div>
            <div class="event-desc">${ev.description || ""}</div>
            ${ev.meta ? `<div class="event-meta">${ev.meta}</div>` : ""}
          </div>
        </a>
      `).join("");
    } catch (err) {
      console.error(err);
      grid.innerHTML = `
        <div class="muted">Events are temporarily unavailable. Please check back soon.</div>
      `;
    }
  }

  loadEvents();
</script>

</body>
</html>
